################################
# REGIONAL CULTURAL TRADITIONS #
################################
tradition_the_witenagemot = {
	category = regional

	layers = {
		0 = diplo
		1 = western
		4 = council.dds
	}
	
	is_shown = {
		OR = {
			has_cultural_pillar = heritage_cruithin
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_errain
			has_cultural_pillar = heritage_laigin
			has_cultural_pillar = heritage_milesian
		}
	}
	can_pick = {
		OR = {
			has_cultural_pillar = heritage_cruithin
			has_cultural_pillar = heritage_brythonic
			has_cultural_pillar = heritage_errain
			has_cultural_pillar = heritage_laigin
			has_cultural_pillar = heritage_milesian
		}
	}
	
	parameters = {
		witenagemot_succession_enabled = yes
	}
	character_modifier = {
		monthly_prestige_gain_per_happy_powerful_vassal_mult = 0.04
	}
	doctrine_character_modifier = {
		name = tradition_the_witenagemot_name
		doctrine = doctrine_theocracy_temporal
		realm_priest_opinion = 15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bureaucratic }
						any_in_list = { list = traits this = flag:ethos_stoic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_councillor = {
								percent = 1
								opinion = {
									target = prev
									value >= 0
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = councillor_with_negative_opinion_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
		if = {
			limit = {
				any_in_list = { list = traits this = flag:tradition_things }
			}
			multiply = 0
		}
	}
}

tradition_visigothic_codes = {
	category = regional

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = crown.dds
	}
	
	is_shown = {
		any_parent_culture_or_above = {
			OR = {
				has_cultural_pillar = heritage_milesian
			}
		}
	}
	can_pick = {
		any_parent_culture_or_above = {
			OR = {
				has_cultural_pillar = heritage_milesian
			}
		}
	}

	parameters = {
		can_enact_high_partition_succession_law = yes
		gender_equal_inheritance = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						any_in_list = { list = traits this = flag:ethos_egalitarian }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}